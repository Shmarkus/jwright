#!/usr/bin/env bash
# jwright - AI-assisted TDD tool

# Resolve symlinks to find actual script location
SOURCE="${BASH_SOURCE[0]}"
while [[ -L "$SOURCE" ]]; do
    DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"
    SOURCE="$(readlink "$SOURCE")"
    [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE"
done
SCRIPT_DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"

JAR="$SCRIPT_DIR/jwright-cli/target/jwright-cli-1.1.0-SNAPSHOT.jar"

if [[ ! -f "$JAR" ]]; then
    echo "Error: JAR not found. Run 'mvn clean install' first." >&2
    exit 1
fi

exec java -jar "$JAR" "$@"
